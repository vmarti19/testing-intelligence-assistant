# AI Practice 1

The goal of this practice is to reinforce the concepts already learned:

- AI Inference (any framework for inference can be used).
- Usage of Tools.
- Model Context Protocol (MCP) servers.

## Tasks

1. Create an MCP Server (STDIO) that will allow the LLM to create and read files in the file system.
2. Create an MCP Server (SSE) that will allow the LLM to execute a python script and obtain output.
3. Create a Code Generator script that will receive a requirements file in markdown format and will
   generate a python script that will implement the requirements. It shall create the file automatically
   using the MCP Server tool when the LLM requests it.
4. Create a Test Case Generator script that will receive a file markdown format and will generate
   test cases with clear steps that will be used to test the code. It shall save a markdown file automatically
   using the MCP Server tool when the LLM requests it.
5. Create a Tester script that will receive a test case file in markdown format with the steps to test
   the generated code. It shall automatically execute the necessary commands and process the output
   when the LLM request it using MCP. It also will be able to read also using MCP the generated database
   (json file) to also validate it. Finally it shall generate a report and save it in markdown format automatically
   using the MCP Server tool when the LLM requests it.

## Folder Structure

Please follow the next folder structure when creating your project.

```
ai/
├─ CodeGenerator/        # Will contain the script(s) that will generate the code from Requirements.md
├─ MCPServers/           # Will contain the code of all the MCP Servers that generators and tester will use
├─ TestCaseGenerator/    # Will contain the script(s) that will generate the test cases that will be used to test the
|                        # code that Code generator will create based on the Requirements.md
├─ Tester/               # Will contain the script(s) that will read the test cases generated by the TestCaseGenerator
|                        # and execute them on the code created by the CodeGenerator. It will create a summary.
input/                   # Contain the input files required for generation
├─ Requirements.md       # File that will be used for the generation
output/
├─ report/               # Will contain the test results report(s)
├─ src/                  # Will contain the database generated script based on the Requirements.md
└─ test/                 # Will contain the test script that will be executed to validate the database script
```

## Additional Information

If you have issues running with your local model you can use:

 * MODEL = 'qwen2.5-14b-instruct'
 * URL = 'http://frtiaws14.vistcorp.ad.visteon.com:1234/v1'
 * API_KEY = 'lmstudio'

Using local 7B model would be better rated.

async def create_file(self, path: str, content: str) -> str:
        """Creates a file in the file system."""
        """
        with open(path, 'w', encoding='utf-8') as f:
            f.write(content)
        return f"File created at: {path}" 
        """

    async def read_file(self, path: str) -> str:
        """Reads the content of a file from the requirement_path."""
        with open(path, 'r', encoding='utf-8') as f:
            return f.read()


    async def run_python_script(self, path: str) -> str:
        """Executes a Python script and returns its output."""
        """
        result = subprocess.run(['python', path], capture_output=True, text=True)
        return result.stdout if result.returncode == 0 else result.stderr
        """

    async def generate_code_from_requirements(self, md_path: str, output_path: str = base_dir) -> str:
        """Generates Python code from a requirements file 'requirement_path' in Markdown format."""
        content = await self.read_file(base_dir)
        generated_code = "# Automatically generated code in python language:\n1.-\n"
        return await self.create_file(base_dir, generated_code)


    async def generate_test_cases(self, md_path: str, output_path: str = base_dir) -> str:
        """Generates test cases from a Markdown file."""
        """
        content = await self.read_file(md_path)
        test_md = "# Generated test cases\n\n- Step 1: Run script\n- Step 2: Validate output"
        return await self.create_file(base_dir, test_md)
        """

    async def run_tests_and_generate_report(self, test_path: str, script_path: str, report_path: str) -> str:
        """Runs tests and generates a report in Markdown format."""
        """
        test_steps = await self.read_file(test_path)
        output = await self.run_python_script(script_path)
        report = f"# Test Report\n\n## Output:\n```\n{output}\n```"
        return await self.create_file(report_path, report)
        """
